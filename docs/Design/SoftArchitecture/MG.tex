\documentclass[12pt, titlepage]{article}

\usepackage{fullpage}
\usepackage[round]{natbib}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{float}
\usepackage{hyperref}
\usepackage{array}

\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}

\input{../../Comments}
\input{../../Common}

\newcounter{acnum}
\newcommand{\actheacnum}{AC\theacnum}
\newcommand{\acref}[1]{AC\ref{#1}}

\newcounter{ucnum}
\newcommand{\uctheucnum}{UC\theucnum}
\newcommand{\uref}[1]{UC\ref{#1}}

\newcounter{mnum}
\newcommand{\mthemnum}{M\themnum}
\newcommand{\mref}[1]{M\ref{#1}}

\begin{document}

\title{Module Guide for Software Engineering} 
\author{\authname}
\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Nov 11, 2025 & 1.0 & Added modules and Traceability Matrix\\
Nov 12, 2025 & 1.1 & Added Modules M6-M11\\
Nov 12, 2025 & 1.2 & Added Modules M15-M19\\
Nov 26, 2025 & 1.3 & Added Modules M1-M6\\
Jan 10, 2026 & 1.4 & Implemented TA Feedback for M7-M11\\
Jan 10, 2026 & 1.4 & Implemented TA and Peer Feedback for AC/UC distinctions\\
Jan 21, 2026 & 2.0 & Merged modules in application layer and updated timeline\\
Jan 21, 2026 & 2.1 & Added communication protocol details\\
\bottomrule
\end{tabularx}

\newpage

\section{Reference Material}

This section records information for easy reference.

\subsection{Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  AC & Anticipated Change\\
  DAG & Directed Acyclic Graph \\
  M & Module \\
  MG & Module Guide \\
  OS & Operating System \\
  R & Requirement\\
  SC & Scientific Computing \\
  SRS & Software Requirements Specification\\
  UC & Unlikely Change \\
  FR & Functional Requirement\\
  LF & Look and Feel \\
  PF & Performance \\
  OER & Operational \& Environmental \\
  MS & Maintainability \& Support \\
  SEC & Security \\
  CUL & Cultural \\
  CPL & Compliance \\
  TLS & Transport Layer Security\\
  
  \bottomrule
\end{tabular}\\

\newpage

\tableofcontents

\listoftables

\listoffigures

\newpage

\pagenumbering{arabic}

\section{Introduction}

Decomposing a system into modules is a commonly accepted approach to developing
software.  A module is a work assignment for a programmer or programming
team~\citep{ParnasEtAl1984}.   For VoiceBridge, we adopt this decomposition based fundamentally on Parnas’s principle of information hiding~\citep{Parnas1972a}.  This
principle supports design for change, because the ``secrets'' that each module
hides represent likely future changes.  This approach supports design for change, a critical concern in assistive technologies where adaptation to evolving user needs and cutting-edge speech recognition improvements frequently occur, especially in early development phases.

Our design follows the rules layed out by \citet{ParnasEtAl1984}, as follows:
\begin{itemize}
\item System details that are likely to change independently should be the
  secrets of separate modules.
\item Each data structure is implemented in only one module.
\item Any other program that requires information stored in a module's data
  structures must obtain it by calling access programs belonging to that module.
\end{itemize}

After completing the first stage of the design, the Software Requirements
Specification (SRS), the Module Guide (MG) is developed~\citep{ParnasEtAl1984}. The MG
specifies the modular structure of the system and is intended to allow both
designers and maintainers to easily identify the parts of the software.  The
potential readers of this document are as follows:

\begin{itemize}
\item New project members: This document can be a guide for a new project member
  to easily understand the overall structure and quickly find the
  relevant modules they are searching for.
\item Maintainers: The hierarchical structure of the module guide improves the
  maintainers' understanding when they need to make changes to the system. It is
  important for a maintainer to update the relevant sections of the document
  after changes have been made.
\item Designers: Once the module guide has been written, it can be used to
  check for consistency, feasibility, and flexibility. Designers can verify the
  system in various ways, such as consistency among modules, feasibility of the
  decomposition, and flexibility of the design.
\end{itemize}

The rest of the document is organized as follows. Section
\ref{SecChange} lists the anticipated and unlikely changes of the software
requirements. Section \ref{SecMH} summarizes the module decomposition that
was constructed according to the likely changes. Section \ref{SecConnection}
specifies the connections between the software requirements and the
modules. Section \ref{SecMD} gives a detailed description of the
modules. Section \ref{SecTM} includes two traceability matrices. One checks
the completeness of the design against the requirements provided in the SRS. The
other shows the relation between anticipated changes and the modules. Section
\ref{SecUse} describes the use relation between modules.

\section{Anticipated and Unlikely Changes} \label{SecChange}

This section lists possible changes to the system. According to the likeliness
of the change, the possible changes are classified into two
categories. Anticipated changes are listed in Section \ref{SecAchange}, and
unlikely changes are listed in Section \ref{SecUchange}.

\subsection{Anticipated Changes} \label{SecAchange}

Anticipated changes are the source of the information that is to be hidden
inside the modules. Ideally, changing one of the anticipated changes will only
require changing the one module that hides the associated decision. The approach
adapted here is called design for
change.

\begin{description}

\item[\refstepcounter{acnum} \actheacnum \label{acHardware}:]
Consumer-grade hardware platform and input devices. \\
VoiceBridge is expected to run on a range of consumer-grade devices (desktops, laptops, tablets) with standard microphones and evolving OS audio stacks. Variations in microphone quality, form factor, and host processing capabilities, as well as future improvements in consumer audio hardware, should be handled by the audio acquisition and preprocessing modules (e.g., Microphone Manager and VAD/NoiseFilter) without impacting higher layers.

\item[\refstepcounter{acnum} \actheacnum \label{acSpeechModel}:]
Speech-to-text engine and language support. \\
The system might expand to support additional languages and dialects beyond English requiring adaptations in ASR models and intent interpretation logic. Continuous improvements in speech recognition accuracy and noise filtering will also necessitate regular updates.

\item[\refstepcounter{acnum} \actheacnum \label{acUserPersonalization}:]
User profile and personalization management. \\
Personalization features may evolve to accommodate changing user speech patterns and preferences, demanding updates in model fine-tuning, adaptive prompting based on confidence, and profile management strategies.

\item[\refstepcounter{acnum} \actheacnum \label{acCommandSupport}:]
Command mapping and browser automation protocols. \\
Browser capabilities, permission models, and automation interfaces (such as extension manifests and scripting APIs) are expected to evolve over time. New commands, revised command schemas, and updated browser/OS integration will require changes localized to the Command Orchestration and Browser Controller modules, which are designed to isolate such API-level changes from the rest of the system.


\item[\refstepcounter{acnum} \actheacnum \label{acUIAndAccessibility}:]
User interface and accessibility compliance. \\
Responsive adjustments to UI designs and accessibility layers will be required to stay compliant with evolving WCAG guidelines and to address user feedback for improved usability.

\item[\refstepcounter{acnum} \actheacnum \label{acErrorHandling}:]
Error handling and recovery policies. \\
Classification schemes, messaging protocols, retry/backoff strategies, and compensation mechanisms may be enhanced to increase robustness and user experience quality.

\item[\refstepcounter{acnum} \actheacnum \label{acSessionManagement}:]
Session lifecycle and interaction flow. \\
Changes may extend session duration limits, improve state persistence, and better handle asynchronous or interrupted user interactions.

\item[\refstepcounter{acnum} \actheacnum \label{acDataPrivacyLogging}:]
Data privacy, audit logging, and security. \\
Adaptations will be necessary to comply with evolving data privacy laws and security best practices, affecting encryption, audit trail formats, and consent mechanisms.

\item[\refstepcounter{acnum} \actheacnum \label{acPersonalizationLayer}:]
Personalization and prompting enhancements. \\
Enhancements aiming at more context-aware and confidence-driven user assistance will continually refine prompting and instruction modules.

\end{description}


% \wss{Anticipated changes relate to changes that would be made in requirements,
% design or implementation choices.  They are not related to changes that are made
% at run-time, like the values of parameters.}

\subsection{Unlikely Changes} \label{SecUchange}

The module design should be as general as possible. However, a general system is
more complex. Sometimes this complexity is not necessary. Fixing some design
decisions at the system architecture stage can simplify the software design. If
these decision should later need to be changed, then many parts of the design
will potentially need to be modified. Hence, it is not intended that these
decisions will be changed.

\begin{description}

\item[\refstepcounter{ucnum} \uctheucnum \label{ucHardwarePlatform}:]
Switching to specialized or non-consumer deployment platforms. \\
VoiceBridge is designed to run on consumer-grade devices using standard microphones and common operating systems. Supporting specialized assistive hardware would require major changes to hardware assumptions, certification, and system integration, and is out of scope for this project.

\item[\refstepcounter{ucnum} \uctheucnum \label{ucProcessingOffload}:]
Offloading speech processing or command execution to external or cloud systems. \\
To protect user privacy and maintain responsiveness, VoiceBridge performs all key processing locally. Changing this would require major architecture redesign and is not planned.

\item[\refstepcounter{ucnum} \uctheucnum \label{ucASRMethod}:]
Fundamental changes to the speech recognition approach. \\
The system uses speech recognition models adapted for users with speech impairments. Major changes to the recognition method—such as replacing local processing with a fully cloud-based approach—would be disruptive and are not planned.

\item[\refstepcounter{ucnum} \uctheucnum \label{ucCommandSystem}:]
Complete redesign of command mapping and browser control modules. \\
The system uses a browser-bridge automation pattern, with dedicated modules (Command Orchestrator, Browser Controller) that encapsulate browser APIs and OS integration. Updates to support new browser APIs or extensions are expected, but replacing the underlying automation architecture is not planned.

\item[\refstepcounter{ucnum} \uctheucnum \label{ucArchitecture}:]
Abandoning modular design for a monolithic or radically different architecture. \\
Modularity was chosen for maintainability and scalability. Changing to a less modular approach would increase complexity and reduce flexibility.

\end{description}

\section{Module Hierarchy} \label{SecMH}

This section provides an overview of the module design. The system is organized into architectural layers, each containing modules that encapsulate specific responsibilities. Table~\ref{TblMH} presents the hierarchy of modules by their layers, including their primary purposes and responsibilities. The modules listed below, which are leaves in the hierarchy tree, are the modules that will be implemented.

\begin{description}
\item [\refstepcounter{mnum}\mthemnum\label{m1}:] User Interface Module
\item [\refstepcounter{mnum}\mthemnum\label{m2}:] Accessibility Layer
\item [\refstepcounter{mnum}\mthemnum\label{m3}:] Feedback Display Module
\item [\refstepcounter{mnum}\mthemnum\label{m4}:] Speech-to-Text Engine
\item [\refstepcounter{mnum}\mthemnum\label{m5}:] Command Orchestrator
\item [\refstepcounter{mnum}\mthemnum\label{m6}:] Error Feedback
\item [\refstepcounter{mnum}\mthemnum\label{m7}:] Browser Controller
\item [\refstepcounter{mnum}\mthemnum\label{m8}:] Session Manager
\item [\refstepcounter{mnum}\mthemnum\label{m9}:] Data Management Layer
\item [\refstepcounter{mnum}\mthemnum\label{m10}:] User Profile Manager
\item [\refstepcounter{mnum}\mthemnum\label{m11}:] Audit Logger
\item [\refstepcounter{mnum}\mthemnum\label{m12}:] Credential Manager
\item [\refstepcounter{mnum}\mthemnum\label{m13}:] Encryption Manager
\item [\refstepcounter{mnum}\mthemnum\label{m14}:] Out-of-Scope Handler
\item [\refstepcounter{mnum}\mthemnum\label{m15}:] Microphone Manager
\item [\refstepcounter{mnum}\mthemnum\label{m16}:] VAD Noise Filter
\item [\refstepcounter{mnum}\mthemnum\label{m17}:] Prompting Module
\item [\refstepcounter{mnum}\mthemnum\label{m18}:] Model Tuner
\end{description}



\section{Connection Between Requirements and Design} \label{SecConnection} \label{SecConnection}

The design of the system is intended to satisfy the requirements developed in the 
(\href{https://github.com/speech-buddies/VoiceBridge/blob/main/docs/SRS-Volere/SRS.pdf}{SRS}).
In this stage, the system is decomposed into modules. The connection between requirements and modules is listed in Table~\ref{TblMH}.

\begin{table}[htbp]
\centering
\footnotesize
\renewcommand{\arraystretch}{1.1} % row height
\setlength{\tabcolsep}{6pt}       % column spacing
\begin{tabular}{
    >{\raggedright\arraybackslash}p{3cm}
    >{\raggedright\arraybackslash}p{4.8cm}
    >{\raggedright\arraybackslash}p{8.2cm}
}

\toprule
\textbf{Architectural Layer} & \textbf{Included Modules} & \textbf{Purpose / Responsibilities} \\
\midrule

\textbf{Presentation Layer} &
User Interface Module \newline
Accessibility Layer \newline
Feedback Display Module &
Manages direct user interaction and feedback presentation. Displays transcribed text, confirmations, feedback messages, and status indicators. Ensures compliance with WCAG accessibility standards including contrast, font, and color. \\
\midrule

\textbf{Control (Orchestration) Layer} &
Browser Controller \newline
Session Manager  &
Coordinates and manages flow between modules. Tracks session states such as capture, transcribe, confirm, and execute. Manages events, exceptions, retries, and cancellations to ensure smooth operation. \\
\midrule

\textbf{Application (Processing) Layer} &
Error Feedback Module \newline
Command Orchestrator \newline
Speech-to-Text Engine &
Performs speech recognition and intent processing. Converts speech audio to text, interprets user intent, maps intent to browser or OS commands, executes commands, and handles error feedback. \\
\midrule


\textbf{Data Management Layer} &
Data Storage Manager \newline
User Profile Manager \newline
Audit Logger &
Maintains persistent data and user personalization. Stores user speech samples, preferences, command mappings, transcripts, and logs. Supports diagnostics and evaluation. \\
\midrule

\textbf{Security Layer} &
Credential Manager \newline
Encryption Manager \newline
Out-of-Scope Handler &
Manages authentication, encryption, and system boundaries. Ensures secure integration with external APIs and operating system interfaces. Handles login confirmations. \\
\midrule

\textbf{Input Processing Layer} &
Microphone Manager \newline
VAD and Noise Filter &
Controls microphone hardware and audio capture. Filters noise to improve voice input quality. \\
\midrule

\textbf{Personalization Layer} &
Prompting Module \newline
Model Tuner &
Provides user prompting, model fine-tuning, and instruction management. Supports optional personalization based on confidence scores and usage history. \\

\bottomrule
\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}
\newpage

% =========================
% Module Decomposition
% =========================
\section{Module Decomposition} \label{SecMD}  \label{SecMD}
% ---------- Presentation Layer ----------
\subsection*{Presentation Layer Modules}

\subsubsection*{M1: User Interface Module}
\textbf{Secrets:} 
\begin{itemize}
  \item Representation of UI state, layout, and visible components
  \item Mapping of raw browser events into UiEvents
  \item Management of keyboard and screen-reader focus
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Initialize and render UI
  \item Receive and normalize input events into UiEvents
  \item Route feedback items
  \item Update keyboard and screen-reader focus
\end{itemize}
\textbf{Implemented By:} UserInterface module using the browser rendering engine and DOM/event APIs.

\medskip
\subsubsection*{M2: Accessibility Layer}
\textbf{Secrets:} 
\begin{itemize}
  \item Encoding of accessibility configuration (AccessConfig)
  \item ARIA attribute mappings
  \item Validation rules for UI elements against WCAG standards
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Apply accessibility options
  \item Announce messages
  \item Check UI elements and report problems using ValidationReports
\end{itemize}
\textbf{Implemented By:} AccessibilityLayer module operating on UI elements exposed by UserInterface.

\medskip
\subsubsection*{M3: Feedback Display Module}
\textbf{Secrets:} 
\begin{itemize}
  \item Internal representation of FeedbackItems keyed by UUID
  \item Policies for creation, clearance, and recovery options of feedback messages
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Attach to parent UI
  \item Show messages of given types
  \item Clear messages
  \item Create recovery options for feedback items
\end{itemize}
\textbf{Implemented By:} FeedbackDisplay module rendering via UserInterface and coordinating with AccessibilityLayer.

% ---------- Application Processing Layer ----------
\subsection*{Application (Processing) Modules}

\subsubsection*{M4: Speech-to-Text Engine}
\textbf{Secrets:} 
\begin{itemize}
  \item Configuration (AsrConfig) and internal processing details of the speech-to-text engine
  \item Methods for converting audio input into accurate text transcripts
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Initialize engine
  \item Process audio to produce transcripts with confidence metadata
  \item Reset internal state
\end{itemize}
\textbf{Implemented By:} SpeechToTextEngine module wrapping acoustic and language models.


\medskip
\subsubsection*{M5: Command Orchestrator}

\textbf{Secrets:} 
\begin{itemize}
    \item Prompt engineering strategies and system instructions for direct command synthesis.
    \item Session-based conversation context and short-term memory management.
    \item Heuristics for mapping natural language to browser-specific schemas without a fixed registry.
    \item Validation logic for ensuring LLM outputs conform to executable security guardrails.
\end{itemize}
\textbf{Services:} 
\begin{itemize}
    \item Initialize the orchestrator with system prompts and API configurations.
    \item Synthesize raw speech transcripts directly into structured, validated browser commands.
    \item Assign confidence scores based on model reasoning.
    \item Reset session context and clear conversation history.
\end{itemize}
\textbf{Implemented By:} CommandOrchestrator module using an external LLM API, dynamic context injection, and a JSON schema validation layer.

\medskip
\subsubsection*{M6: Error Feedback}

\textbf{Secrets:} 
\begin{itemize}
  \item Expected error types
  \item Message templates and localization hooks
  \item Mapping of internal/domain errors to user-facing message keys and recovery options
  \item Redaction rules for logs and UI
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Display error notifications
  \item Display recovery prompts with options
  \item Dismiss items
  \item Log structured error events
  \item Normalize and map errors to UI messages and recovery actions
\end{itemize}
\textbf{Implemented By:} UI Notification Layer and Shared Error Handling Module (M11).

% ---------- Control (Orchestration) ----------
\subsection*{Control (Orchestration) Modules}

\subsubsection*{M7: BrowserController}
\textbf{Secrets:} 
\begin{itemize}
  \item Transport protocol to the browser controller
  \item Timeout wrappers and normalization of responses
  \item Session plumbing
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Send request
  \item Get status
  \item Cancel operations
  \item Open and close controller sessions
\end{itemize}
\textbf{Implemented By:} Automation bridge client.

\medskip
\subsubsection*{M8: Session Manager}
\textbf{Secrets:} 
\begin{itemize}
  \item Session lifecycle rules
  \item Storage schema
  \item TTL and expiry handling
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Start and stop sessions
  \item Get session state
  \item Attach commands
  \item Set state
\end{itemize}
\textbf{Implemented By:} In-memory cache + persistent store.

\subsection*{Data Management Modules}
\medskip
\subsubsection*{M9: Storage Management Module}
\textbf{Secrets:}
\begin{itemize}
  \item Database connection credentials
  \item Cloud API tokens
  \item Encryption keys
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item DataStorageService: Stores and retrieves transcripts, user data, and configuration files.
  \item BackupService: Performs scheduled or manual backups to secure cloud storage.
  \item DataRetrievalService: Provides indexed access to stored files for authorized modules.
  \item DataRetentionService: Enforces deletion and retention rules based on time or policy.
\end{itemize}
\textbf{Implemented By:} DataStorageManager.

\medskip
\subsubsection*{M10: User Profile Management Module}
\textbf{Secrets:}
\begin{itemize}
  \item User tokens and refresh keys
  \item Profile encryption keys
  \item Hashed user identifiers
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item ProfileCreationService: Initializes new user profiles with unique IDs.
  \item PreferenceService: Saves and retrieves user preferences and personalization data.
  \item ConsentManagementService: Records and verifies consent for data collection and personalization.
\end{itemize}
\textbf{Implemented By:} UserProfileManagerImpl.

\medskip
\subsubsection*{M11: Audit Logging Module}
\textbf{Secrets:}
\begin{itemize}
  \item Log signing key
  \item Audit database token
  \item Log encryption key
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item ActivityLogService: Logs system and user activities for traceability.
  \item LogQueryService: Provides authorized access to query and review logs.
  \item AnomalyDetectionService: Detects suspicious activity and security anomalies.
\end{itemize}
\textbf{Implemented By:} AuditLoggerImpl.

\medskip
\subsubsection*{M12: Credential Management Module}
\textbf{Secrets:}
\begin{itemize}
  \item Vault master key
  \item Token signing keypair
  \item OAuth client secrets
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item AuthenticationService: Validates user credentials during login.
  \item SessionTokenService: Issues and validates secure access tokens (JWT/OAuth).
  \item PasswordVaultService: Stores and retrieves hashed passwords securely.
\end{itemize}
\textbf{Implemented By:} CredentialManagerImpl.

\medskip
\subsubsection*{M13: Encryption Management Module}
\textbf{Secrets:}
\begin{itemize}
  \item Private encryption keypair
  \item TLS certificates for secure communication
  \item Key rotation schedule metadata
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item DataEncryptionService: Encrypts data at rest and in transit.
  \item KeyManagementService: Generates, rotates, and revokes cryptographic keys.
  \item AnonymizationService: Removes identifiable data prior to model training or storage.
  \item IntegrityVerificationService: Ensures stored or transmitted data has not been altered.
\end{itemize}
\textbf{Implemented By:} EncryptionManagerImpl.

\medskip
\subsubsection*{M14: Out-of-Scope Handling Module}
\textbf{Secrets:}
\begin{itemize}
  \item Command whitelist/blacklist configuration
  \item Safety policy file checksum
  \item Secure incident reporting token
\end{itemize}
\textbf{Services:}
\begin{itemize}
  \item CommandValidationService: Validates command scope and prevents unsafe actions.
  \item UserSafetyService: Provides safe fallback messages and cancel options.
  \item RecoveryService: Rolls back partially executed or invalid operations.
  \item IncidentReportingService: Reports anomalies and unsafe commands to the AuditLogger.
\end{itemize}
\textbf{Implemented By:} OutOfScopeHandlerImpl.

\subsection*{Input Processing Layer Modules}

\subsubsection*{M15: Microphone Manager}
\textbf{Secrets:} 
\begin{itemize}
  \item Device-level audio capture configuration and sampling parameters
  \item Buffering strategy and fallback device selection
  \item Normalization of raw audio before downstream processing
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Start and stop microphone stream
  \item Read audio frames
  \item Provide normalized PCM buffer
  \item Expose current device status and surface hardware errors
\end{itemize}
\textbf{Implemented By:} Browser audio APIs or OS audio interface.

\medskip
\subsubsection*{M16: VAD Noise Filter}
\textbf{Secrets:} 
\begin{itemize}
  \item Voice-activity-detection thresholds
  \item Noise-suppression heuristics and smoothing windows
  \item Adaptive gain rules
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Filter raw microphone frames
  \item Determine speech vs. silence
  \item Emit clean audio frames
  \item Send VAD events (start/stop speech)
\end{itemize}
\textbf{Implemented By:} DSP/VAD library.

\subsection*{Personalization Layer}
\subsubsection*{M17: Prompting Module}
\textbf{Secrets:} 
\begin{itemize}
  \item Prompt templates and personalization rules
  \item Condition-based variation (history, context)
  \item Confidence-based prompt selection logic
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Generate user prompts
  \item Provide clarifying follow-ups when intent confidence is low
  \item Produce culturally inclusive and accessibility-enabled copy
\end{itemize}
\textbf{Implemented By:} Application prompt engine.

\medskip
\subsubsection*{M18: Model Tuner}
\textbf{Secrets:} 
\begin{itemize}
  \item Adaptation strategy for user-specific speech patterns
  \item Tuning weights for model updates
  \item Online vs. offline update thresholds
  \item Embedding storage rules
\end{itemize}
\textbf{Services:} 
\begin{itemize}
  \item Update inference parameters based on user data
  \item Compute personalized embeddings
  \item Adjust thresholds for intent classification and STT confidence
\end{itemize}
\textbf{Implemented By:} ML runtime (Whisper fine-tuning layer or lightweight personalization pipeline).


\section{Traceability Matrix} \label{SecTM}

The traceability matrices show how each requirement is
implemented by specific modules and how each anticipated change is isolated
within a single module.

% the table should use mref, the requirements should be named, use something
% like fref
\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
FR-1 10.1 & \mref{m15}, \mref{m16}, \mref{m4}, \mref{m8}\\
FR-2 10.2& \mref{m4}, \mref{m16}, \mref{m18}, \mref{m9}\\
FR-3 10.3& \mref{m1}, \mref{m2}, \mref{m3}, \mref{m6}\\
FR-4 10.4& \mref{m5}, \mref{m6}\\
FR-5 10.5& \mref{m7}, \mref{m7}, \mref{m11}, \mref{m6}\\
\bottomrule
\end{tabular}
\caption{Trace Between Functional Requirements and Modules}
\label{TblRTFunctional}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
LF-1 11.1& \mref{m1}, \mref{m2}, \mref{m3}, \mref{m6}\\
LF-2 11.2& \mref{m1}, \mref{m2}, \mref{m17}, \mref{m3}\\
\bottomrule
\end{tabular}
\caption{Trace Between Look \& Feel Requirements and Modules}
\label{TblRTLF}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
UH-1 12.1 & \mref{m1}, \mref{m2}, \mref{m3}, \mref{m6}\\
UH-2 12.2 & \mref{m10}, \mref{m9}, \mref{m5}, \mref{m6}\\
UH-3 12.3& \mref{m1}, \mref{m2}, \mref{m17}, \mref{m8}\\
UH-4 12.4& \mref{m6}, \mref{m3}, \mref{m2}, \mref{m17}\\
UH-5 12.5& \mref{m2}, \mref{m1}, \mref{m3}, \mref{m6}\\
\bottomrule
\end{tabular}
\caption{Trace Between Usability \& Humanity Requirements and Modules}
\label{TblRTUsabilityHumanity}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
PF-1 13.1 & \mref{m4}, \mref{m5}, \mref{m6}, \mref{m7}, \mref{m7}\\
PF-2 13.2& \mref{m5}, \mref{m6}, \mref{m7}, \mref{m6}, \mref{m11}\\
PF-3 13.3& \mref{m4}, \mref{m16}, \mref{m18}, \mref{m5}\\
PF-4 13.4& \mref{m11}, \mref{m8}, \mref{m6}, \mref{m7}\\
PF-5 13.5 & \mref{m8}, \mref{m9}, \mref{m10}\\
PF-6 13.6& \mref{m8}, \mref{m9}, \mref{m7}\\
PF-7 13.7& \mref{m9}, \mref{m10}, \mref{m11}, \mref{m12}\\
\bottomrule
\end{tabular}
\caption{Trace Between Performance Requirements and Modules}
\label{TblRTPerformance}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
OER-1 14.1& \mref{m15}, \mref{m16}, \mref{m4}, \mref{m11}\\
OER-2 14.2& \mref{m1}, \mref{m2}, \mref{m7}, \mref{m8}\\
OER-3 14.3& \mref{m5}, \mref{m6}, \mref{m7}\\
OER-4 14.4& \mref{m9}, \mref{m10}, \mref{m11}, \mref{m12}, \mref{m8}\\
OER-5 14.5& \mref{m8}, \mref{m9}, \mref{m11}, \mref{m12}\\
\bottomrule
\end{tabular}
\caption{Trace Between Operational \& Environmental Requirements and Modules}
\label{TblRTOperationalEnv}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
MS-1 15.1& \mref{m8}, \mref{m9}, \mref{m10}, \mref{m11}, \mref{m12}\\
MS-2 15.2& \mref{m1}, \mref{m2}, \mref{m3}, \mref{m6}, \mref{m17}\\
MS-3 15.3& \mref{m1}, \mref{m2}, \mref{m7}, \mref{m8}, \mref{m11}\\
\bottomrule
\end{tabular}
\caption{Trace Between Maintainability \& Support Requirements and Modules}
\label{TblRTMaintainSupport}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
SEC-1 16.1 & \mref{m12}, \mref{m13}, \mref{m10}, \mref{m9}, \mref{m8}\\
SEC-2 16.2& \mref{m5}, \mref{m6}, \mref{m7}, \mref{m6}, \mref{m11}\\
SEC-3 16.3& \mref{m9}, \mref{m10}, \mref{m11}, \mref{m12}, \mref{m13}\\
SEC-4 16.4& \mref{m11}, \mref{m9}, \mref{m8}, \mref{m12}\\
SEC-5 16.5& \mref{m11}, \mref{m6}, \mref{m16}, \mref{m7}, \mref{m7}\\
\bottomrule
\end{tabular}
\caption{Trace Between Security Requirements and Modules}
\label{TblRTSecurity}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
CUL-1 17.1& \mref{m2}, \mref{m3}, \mref{m6}, \mref{m17}, \mref{m5}\\
\bottomrule
\end{tabular}
\caption{Trace Between Cultural Requirements and Modules}
\label{TblRTCultural}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
CPL-1 18.1& \mref{m9}, \mref{m10}, \mref{m11}, \mref{m12}, \mref{m13}\\
CPL-2 18.2& \mref{m1}, \mref{m2}, \mref{m3}, \mref{m6}\\
\bottomrule
\end{tabular}
\caption{Trace Between Compliance Requirements and Modules}
\label{TblRTCompliance}
\end{table}








\section{Use Hierarchy Between Modules} \label{SecUse}

In this section, the uses hierarchy between modules is
provided. \citet{Parnas1978} said of two programs A and B that A {\em uses} B if
correct execution of B may be necessary for A to complete the task described in
its specification. That is, A {\em uses} B if there exist situations in which
the correct functioning of A depends upon the availability of a correct
implementation of B.  Figure \ref{FigUH} illustrates the use relation between
the modules. It can be seen that the graph is a directed acyclic graph
(DAG). Each level of the hierarchy offers a testable and usable subset of the
system, and modules in the higher level of the hierarchy are essentially simpler
because they use modules from the lower levels.

% \wss{The uses relation is not a data flow diagram.  In the code there will often
% be an import statement in module A when it directly uses module B.  Module B
% provides the services that module A needs.  The code for module A needs to be
% able to see these services (hence the import statement).  Since the uses
% relation is transitive, there is a use relation without an import, but the
% arrows in the diagram typically correspond to the presence of import statement.}

% \wss{If module A uses module B, the arrow is directed from A to B.}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{../../imgs/UseHierarchy.png}
\caption{Use hierarchy among modules}
\label{FigUH}
\end{figure}

%\section*{References}

\section{User Interfaces}

Will be defined in later design iterations.
% \wss{Design of user interface for software and hardware.  Attach an appendix if
% needed. Drawings, Sketches, Figma}


\section{Design of Communication Protocols}

VoiceBridge uses typed procedure calls between modules following the \href{https://github.com/speech-buddies/VoiceBridge/blob/main/docs/Design/SoftDetailedDes/MIS.pdf}{MIS} details. All communication is synchronous with structured data types and exception handling.

\begin{itemize}
\item \textbf{Typed Access Programs}: Module interfaces are defined in the \href{https://github.com/speech-buddies/VoiceBridge/blob/main/docs/Design/SoftDetailedDes/MIS.pdf}{MIS}, utilizing request-response patterns for inter-module communication.
\item \textbf{Structured Messages}: Data types such as \texttt{UiEvent}, \texttt{Transcript}, \texttt{Command}, and \texttt{FeedbackItem} are used to standardize communication.
\item \textbf{Exception Handling}: Typed errors (e.g., \texttt{TimeoutError}, \texttt{StoreError}) are propagated and converted into user feedback where applicable.
\item \textbf{Session Tokens}: UUID-based authentication is managed via the \mref{m12} Credential Manager to ensure secure communication.
\item \textbf{Data Encryption}: The \mref{m13} Encryption Manager handles encryption at storage and communication boundaries to maintain data security.
\end{itemize}

\section{Timeline}

% \wss{Schedule of tasks and who is responsible}
Core functionality such as speech-to-text and command orchestrator was developed collectively.  Each team member took ownership of specific modules to ensure accountability and progress. The schedule in Table~\ref{tab:module_completion_schedule} reflects the planned completion dates for each module, along with the responsible team member.

\begin{table}[h!]
\centering
\begin{tabular}{|l|l|l|}
\hline
\textbf{Module Name} & \textbf{Completion Date} & \textbf{Responsible Member} \\ \hline
User Interface Module & January 15, 2026 & Kelvin \\
Speech-to-Text Engine & January 15, 2026 & Luna \\
Command Orchestrator & January 15, 2026 & Rawan \\
Browser Controller & January 15, 2026 & Mazen \\ 
Accessibility Layer & January 18, 2026 & Mazen \\
Feedback Display Module & January 18, 2026 & Rawan \\
Error Feedback & January 18, 2026 & Kelvin \\ 
Session Manager & January 21, 2026 & Luna \\
Prompting Module & January 21, 2026 & Rawan \\
User Profile Manager & January 21, 2026 & Kelvin \\ 
Data Management Layer & January 24, 2026 & Rawan \\
Audit Logger & January 24, 2026 & Mazen \\
Credential Manager & January 24, 2026 & Luna \\ 
Encryption Manager & January 27, 2026 & Rawan \\
Out-of-Scope Handler & January 27, 2026 & Kelvin \\
Microphone Manager & January 27, 2026 & Mazen \\
VAD Noise Filter & January 27, 2026 & Luna \\ 
Model Tuner & January 30, 2026 & Kelvin \\ \hline
\end{tabular}
\caption{Module Completion Schedule}
\label{tab:module_completion_schedule}
\end{table}


\noindent
\medskip
\noindent


\bibliographystyle {plainnat}
\bibliography{../../../refs/References}

\newpage{}

\end{document}